<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJAX - Guía Completa para Desarrolladores</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --warning-gradient: linear-gradient(135deg, #fad961 0%, #f76b1c 100%);
            --danger-gradient: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .ajax-header {
            background: var(--primary-gradient);
            color: white;
            border: none;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }
        
        .ajax-header .card-header {
            background: transparent;
            border: none;
        }
        
        .section-nav {
            position: sticky;
            top: 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            padding: 20px;
        }
        
        .section-nav .nav-link {
            color: #667eea;
            border-radius: 10px;
            margin: 2px 0;
            transition: all 0.3s ease;
        }
        
        .section-nav .nav-link:hover,
        .section-nav .nav-link.active {
            background: var(--primary-gradient);
            color: white;
            transform: translateX(5px);
        }
        
        .code-block {
            background: #2d3748;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            position: relative;
            overflow-x: auto;
        }
        
        .code-block::before {
            content: attr(data-lang);
            position: absolute;
            top: -10px;
            right: 15px;
            background: var(--secondary-gradient);
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .highlight-box {
            background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%);
            border-left: 5px solid #e17055;
            border-radius: 0 10px 10px 0;
            padding: 15px;
            margin: 15px 0;
        }
        
        .info-box {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .success-box {
            background: var(--success-gradient);
            color: white;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .danger-box {
            background: var(--danger-gradient);
            color: white;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .method-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: none;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .method-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }
        
        .method-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 24px;
            color: white;
        }
        
        .get-icon { background: var(--success-gradient); }
        .post-icon { background: var(--warning-gradient); }
        .ajax-icon { background: var(--primary-gradient); }
        
        .comparison-table {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .demo-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .demo-button {
            background: white;
            color: #667eea;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            margin: 5px;
            transition: all 0.3s ease;
        }
        
        .demo-button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .response-area {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            min-height: 100px;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Navegación lateral -->
            <div class="col-lg-3 col-md-4">
                <div class="section-nav">
                    <h5 class="mb-3"><i class="fas fa-exchange-alt me-2"></i>Contenido</h5>
                    <nav class="nav flex-column">
                        <a class="nav-link active" href="#introduccion">
                            <i class="fas fa-play me-2"></i>¿Qué es AJAX?
                        </a>
                        <a class="nav-link" href="#fundamentos">
                            <i class="fas fa-cogs me-2"></i>Fundamentos
                        </a>
                        <a class="nav-link" href="#jquery-get">
                            <i class="fas fa-download me-2"></i>$.get()
                        </a>
                        <a class="nav-link" href="#jquery-post">
                            <i class="fas fa-upload me-2"></i>$.post()
                        </a>
                        <a class="nav-link" href="#ajax-completo">
                            <i class="fas fa-code me-2"></i>$.ajax()
                        </a>
                        <a class="nav-link" href="#comparacion">
                            <i class="fas fa-balance-scale me-2"></i>Comparación
                        </a>
                        <a class="nav-link" href="#ejemplos-reales">
                            <i class="fas fa-laptop-code me-2"></i>Ejemplos Reales
                        </a>
                        <a class="nav-link" href="#demo">
                            <i class="fas fa-play-circle me-2"></i>Demo Interactiva
                        </a>
                    </nav>
                </div>
            </div>
            
            <!-- Contenido principal -->
            <div class="col-lg-9 col-md-8">
                <div class="main-content">
                    <!-- Cabecera -->
                    <div class="card ajax-header mb-4">
                        <div class="card-header text-center py-4">
                            <h1 class="mb-2"><i class="fas fa-exchange-alt me-3"></i>AJAX - Guía Completa</h1>
                            <p class="mb-0">Asynchronous JavaScript and XML - Comunicación sin recargar la página</p>
                        </div>
                    </div>

                    <!-- Introducción -->
                    <section id="introduccion" class="mb-5">
                        <div class="card">
                            <div class="card-header bg-primary text-white">
                                <h3 class="mb-0"><i class="fas fa-question-circle me-2"></i>¿Qué es AJAX?</h3>
                            </div>
                            <div class="card-body">
                                <p class="lead">AJAX (Asynchronous JavaScript and XML) es una técnica que permite actualizar partes de una página web sin recargarla completamente, creando experiencias de usuario más fluidas e interactivas.</p>
                                
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="info-box">
                                            <h5><i class="fas fa-check-circle me-2"></i>Ventajas de AJAX</h5>
                                            <ul class="mb-0">
                                                <li>No recarga la página completa</li>
                                                <li>Comunicación en segundo plano</li>
                                                <li>Experiencia de usuario mejorada</li>
                                                <li>Menor consumo de ancho de banda</li>
                                                <li>Aplicaciones más rápidas</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="highlight-box">
                                            <h5><i class="fas fa-lightbulb me-2"></i>Casos de Uso Comunes</h5>
                                            <ul class="mb-0">
                                                <li>Validación de formularios en tiempo real</li>
                                                <li>Carga dinámica de datos en tablas</li>
                                                <li>Sistemas de búsqueda instantánea</li>
                                                <li>Actualización de contenido periódico</li>
                                                <li>Envío de formularios sin redirección</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Fundamentos -->
                    <section id="fundamentos" class="mb-5">
                        <div class="card">
                            <div class="card-header bg-info text-white">
                                <h3 class="mb-0"><i class="fas fa-cogs me-2"></i>Fundamentos de AJAX</h3>
                            </div>
                            <div class="card-body">
                                <h5>Proceso Básico de AJAX</h5>
                                <div class="row">
                                    <div class="col-md-3 text-center">
                                        <div class="method-icon ajax-icon">
                                            <i class="fas fa-mouse-pointer"></i>
                                        </div>
                                        <h6>1. Evento</h6>
                                        <p class="small">Usuario interactúa (click, submit, etc.)</p>
                                    </div>
                                    <div class="col-md-3 text-center">
                                        <div class="method-icon post-icon">
                                            <i class="fas fa-paper-plane"></i>
                                        </div>
                                        <h6>2. Petición</h6>
                                        <p class="small">JavaScript envía datos al servidor</p>
                                    </div>
                                    <div class="col-md-3 text-center">
                                        <div class="method-icon get-icon">
                                            <i class="fas fa-server"></i>
                                        </div>
                                        <h6>3. Procesamiento</h6>
                                        <p class="small">Servidor procesa y responde</p>
                                    </div>
                                    <div class="col-md-3 text-center">
                                        <div class="method-icon ajax-icon">
                                            <i class="fas fa-sync-alt"></i>
                                        </div>
                                        <h6>4. Actualización</h6>
                                        <p class="small">JavaScript actualiza la página</p>
                                    </div>
                                </div>

                                <div class="code-block" data-lang="Concepto">
                                    <pre><code class="language-javascript">// Flujo básico de AJAX
Usuario hace click → JavaScript captura evento → Envía petición al servidor
     ↓                                                        ↑
Página se actualiza ← JavaScript procesa respuesta ← Servidor responde</code></pre>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- jQuery $.get() -->
                    <section id="jquery-get" class="mb-5">
                        <div class="card method-card">
                            <div class="card-header bg-success text-white">
                                <h3 class="mb-0"><i class="fas fa-download me-2"></i>$.get() - Obtener Datos</h3>
                            </div>
                            <div class="card-body">
                                <p>El método <code>$.get()</code> es la forma más simple de realizar peticiones GET con jQuery.</p>
                                
                                <h5>Sintaxis Básica</h5>
                                <div class="code-block" data-lang="JavaScript">
                                    <pre><code class="language-javascript">// Sintaxis básica
$.get(url, data, function(response) {
    // Procesar respuesta
});

// Ejemplo simple
$.get("datos.php", function(data) {
    console.log("Datos recibidos:", data);
});</code></pre>
                                </div>

                                <h5>Ejemplo Completo del Sistema TOLDOS</h5>
                                <div class="code-block" data-lang="JavaScript">
                                    <pre><code class="language-javascript">// Obtener lista de roles
$.get("../../controller/roles.php?op=listar", function(data) {
    console.log("Roles obtenidos:", data);
    
    // Procesar los datos recibidos
    if (data.success) {
        data.roles.forEach(function(rol) {
            console.log("Rol:", rol.nombre_rol);
        });
    }
}).fail(function(xhr, status, error) {
    console.error("Error al obtener roles:", error);
});</code></pre>
                                </div>

                                <div class="success-box">
                                    <h6><i class="fas fa-info-circle me-2"></i>Características de $.get()</h6>
                                    <ul class="mb-0">
                                        <li><strong>Método HTTP:</strong> GET (datos en la URL)</li>
                                        <li><strong>Propósito:</strong> Obtener información del servidor</li>
                                        <li><strong>Caché:</strong> Los navegadores pueden cachear las respuestas</li>
                                        <li><strong>Límite de datos:</strong> Limitado por la longitud de URL</li>
                                        <li><strong>Visibilidad:</strong> Parámetros visibles en la URL</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- jQuery $.post() -->
                    <section id="jquery-post" class="mb-5">
                        <div class="card method-card">
                            <div class="card-header bg-warning text-dark">
                                <h3 class="mb-0"><i class="fas fa-upload me-2"></i>$.post() - Enviar Datos</h3>
                            </div>
                            <div class="card-body">
                                <p>El método <code>$.post()</code> se usa para enviar datos al servidor de forma segura.</p>
                                
                                <h5>Sintaxis Básica</h5>
                                <div class="code-block" data-lang="JavaScript">
                                    <pre><code class="language-javascript">// Sintaxis básica
$.post(url, data, function(response) {
    // Procesar respuesta
});

// Ejemplo simple
$.post("guardar.php", { nombre: "Juan", edad: 30 }, function(result) {
    console.log("Guardado:", result);
});</code></pre>
                                </div>

                                <h5>Ejemplo del Sistema TOLDOS - Activar Rol</h5>
                                <div class="code-block" data-lang="JavaScript">
                                    <pre><code class="language-javascript">// Función para activar un rol (del archivo mntroles.js)
function activarRol(id) {
    swal.fire({
        title: 'Activar',
        text: `¿Desea activar el rol con ID ${id}?`,
        icon: 'question',
        showCancelButton: true,
        confirmButtonText: 'Si',
        cancelButtonText: 'No'
    }).then((result) => {
        if (result.isConfirmed) {
            // Enviar datos con $.post()
            $.post("../../controller/roles.php?op=activar", 
                   { id_rol: id }, 
                   function(data) {
                // Recargar tabla
                $table.DataTable().ajax.reload();
                
                // Mostrar mensaje de éxito
                swal.fire('Activado', 'El rol ha sido activado', 'success');
            }).fail(function(xhr, status, error) {
                console.error('Error:', error);
                swal.fire('Error', 'No se pudo activar el rol', 'error');
            });
        }
    });
}</code></pre>
                                </div>

                                <div class="highlight-box">
                                    <h6><i class="fas fa-shield-alt me-2"></i>Características de $.post()</h6>
                                    <ul class="mb-0">
                                        <li><strong>Método HTTP:</strong> POST (datos en el cuerpo)</li>
                                        <li><strong>Propósito:</strong> Enviar datos al servidor</li>
                                        <li><strong>Seguridad:</strong> Datos no visibles en la URL</li>
                                        <li><strong>Límite de datos:</strong> Sin límite práctico</li>
                                        <li><strong>Caché:</strong> No se cachea automáticamente</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- $.ajax() Completo -->
                    <section id="ajax-completo" class="mb-5">
                        <div class="card method-card">
                            <div class="card-header bg-primary text-white">
                                <h3 class="mb-0"><i class="fas fa-code me-2"></i>$.ajax() - Control Total</h3>
                            </div>
                            <div class="card-body">
                                <p>El método <code>$.ajax()</code> ofrece control completo sobre la petición HTTP.</p>
                                
                                <h5>Sintaxis Completa</h5>
                                <div class="code-block" data-lang="JavaScript">
                                    <pre><code class="language-javascript">$.ajax({
    url: 'servidor.php',
    type: 'POST',
    data: { campo: 'valor' },
    dataType: 'json',
    timeout: 5000,
    beforeSend: function() {
        // Antes de enviar
    },
    success: function(response) {
        // Éxito
    },
    error: function(xhr, status, error) {
        // Error
    },
    complete: function() {
        // Siempre se ejecuta
    }
});</code></pre>
                                </div>

                                <h5>Ejemplo Real - Verificar Rol Existente</h5>
                                <div class="code-block" data-lang="JavaScript">
                                    <pre><code class="language-javascript">// Función del sistema TOLDOS para verificar roles duplicados
function verificarRolExistente(id_rol, nombre_rol) {
    $.ajax({
        url: "../../controller/roles.php?op=verificarRol",
        type: "GET",
        data: { 
            nombre_rol: nombre_rol, 
            id_rol: id_rol 
        },
        dataType: "json",
        timeout: 10000,
        beforeSend: function() {
            // Mostrar indicador de carga
            console.log("Verificando rol...");
        },
        success: function(response) {
            if (!response.success) {
                toastr.warning(response.message || "Error al verificar el rol.");
                return;
            }

            if (response.existe) {
                mostrarErrorRolExistente(nombre_rol);
            } else {
                guardarRol(id_rol, nombre_rol);
            }
        },
        error: function(xhr, status, error) {
            console.error('Error en verificación:', error);
            toastr.error('Error al verificar el rol. Intente nuevamente.', 'Error');
        },
        complete: function() {
            // Ocultar indicador de carga
            console.log("Verificación completada");
        }
    });
}</code></pre>
                                </div>

                                <div class="info-box">
                                    <h6><i class="fas fa-cogs me-2"></i>Opciones Importantes de $.ajax()</h6>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <ul>
                                                <li><strong>url:</strong> Dirección del servidor</li>
                                                <li><strong>type:</strong> Método HTTP (GET, POST, PUT, DELETE)</li>
                                                <li><strong>data:</strong> Datos a enviar</li>
                                                <li><strong>dataType:</strong> Tipo de respuesta esperada</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6">
                                            <ul>
                                                <li><strong>timeout:</strong> Tiempo límite en milisegundos</li>
                                                <li><strong>async:</strong> Si es asíncrono (true por defecto)</li>
                                                <li><strong>cache:</strong> Si cachea la respuesta</li>
                                                <li><strong>headers:</strong> Cabeceras HTTP personalizadas</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Comparación -->
                    <section id="comparacion" class="mb-5">
                        <div class="card">
                            <div class="card-header bg-secondary text-white">
                                <h3 class="mb-0"><i class="fas fa-balance-scale me-2"></i>Comparación de Métodos</h3>
                            </div>
                            <div class="card-body">
                                <div class="comparison-table">
                                    <table class="table table-striped table-hover mb-0">
                                        <thead class="table-dark">
                                            <tr>
                                                <th>Característica</th>
                                                <th><i class="fas fa-download me-1"></i>$.get()</th>
                                                <th><i class="fas fa-upload me-1"></i>$.post()</th>
                                                <th><i class="fas fa-code me-1"></i>$.ajax()</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><strong>Simplicidad</strong></td>
                                                <td><span class="badge bg-success">Muy fácil</span></td>
                                                <td><span class="badge bg-success">Muy fácil</span></td>
                                                <td><span class="badge bg-warning">Más complejo</span></td>
                                            </tr>
                                            <tr>
                                                <td><strong>Control</strong></td>
                                                <td><span class="badge bg-warning">Básico</span></td>
                                                <td><span class="badge bg-warning">Básico</span></td>
                                                <td><span class="badge bg-success">Total</span></td>
                                            </tr>
                                            <tr>
                                                <td><strong>Método HTTP</strong></td>
                                                <td>Solo GET</td>
                                                <td>Solo POST</td>
                                                <td>Cualquiera</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Manejo de errores</strong></td>
                                                <td><span class="badge bg-danger">Limitado</span></td>
                                                <td><span class="badge bg-danger">Limitado</span></td>
                                                <td><span class="badge bg-success">Completo</span></td>
                                            </tr>
                                            <tr>
                                                <td><strong>Configuración</strong></td>
                                                <td><span class="badge bg-info">Mínima</span></td>
                                                <td><span class="badge bg-info">Mínima</span></td>
                                                <td><span class="badge bg-success">Máxima</span></td>
                                            </tr>
                                            <tr>
                                                <td><strong>Uso recomendado</strong></td>
                                                <td>Obtener datos simples</td>
                                                <td>Enviar formularios</td>
                                                <td>Casos complejos</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Ejemplos Reales -->
                    <section id="ejemplos-reales" class="mb-5">
                        <div class="card">
                            <div class="card-header bg-dark text-white">
                                <h3 class="mb-0"><i class="fas fa-laptop-code me-2"></i>Ejemplos del Sistema TOLDOS</h3>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <h5><i class="fas fa-table me-2"></i>Carga de DataTable</h5>
                                        <div class="code-block" data-lang="JavaScript">
                                            <pre><code class="language-javascript">// Configuración AJAX en DataTables
ajax: {
    url: '../../controller/roles.php?op=listar',
    type: 'GET',
    dataSrc: function (json) {
        console.log("JSON recibido:", json);
        return json.data || json;
    }
}</code></pre>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <h5><i class="fas fa-save me-2"></i>Guardar Datos</h5>
                                        <div class="code-block" data-lang="JavaScript">
                                            <pre><code class="language-javascript">// Guardar rol con validación
$.ajax({
    url: "../../controller/roles.php?op=guardaryeditar",
    type: "POST",
    data: { nombre_rol: nombre_rol, id_rol: id_rol },
    dataType: "json",
    success: function(res) {
        if (res.success) {
            $('#modalRol').modal('hide');
            table_e.ajax.reload(null, false);
            toastr.success("Rol guardado");
        }
    }
});</code></pre>
                                        </div>
                                    </div>
                                </div>

                                <div class="row mt-4">
                                    <div class="col-md-6">
                                        <h5><i class="fas fa-eye me-2"></i>Mostrar Registro</h5>
                                        <div class="code-block" data-lang="JavaScript">
                                            <pre><code class="language-javascript">// Obtener datos para edición
$.ajax({
    url: "../../controller/roles.php?op=mostrar",
    type: "POST",
    data: { id_rol: id },
    dataType: "json",
    success: function(data) {
        $('#formRol input[name="id_rol"]').val(data.id_rol);
        $('#formRol input[name="nombre_rol"]').val(data.nombre_rol);
        $('#modalRol').modal('show');
    }
});</code></pre>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <h5><i class="fas fa-toggle-on me-2"></i>Cambiar Estado</h5>
                                        <div class="code-block" data-lang="JavaScript">
                                            <pre><code class="language-javascript">// Desactivar rol
$.post("../../controller/roles.php?op=eliminar", 
       { id_rol: id }, 
       function(data) {
    $table.DataTable().ajax.reload();
    swal.fire('Desactivado', 'El rol ha sido desactivado', 'success');
}).fail(function() {
    swal.fire('Error', 'No se pudo desactivar', 'error');
});</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Demo Interactiva -->
                    <section id="demo" class="mb-5">
                        <div class="demo-section">
                            <h3 class="text-center mb-4"><i class="fas fa-play-circle me-2"></i>Demo Interactiva</h3>
                            <p class="text-center">Prueba los diferentes métodos AJAX con ejemplos reales</p>
                            
                            <div class="row text-center">
                                <div class="col-md-4">
                                    <button class="demo-button" onclick="demoGet()">
                                        <i class="fas fa-download me-2"></i>Probar $.get()
                                    </button>
                                </div>
                                <div class="col-md-4">
                                    <button class="demo-button" onclick="demoPost()">
                                        <i class="fas fa-upload me-2"></i>Probar $.post()
                                    </button>
                                </div>
                                <div class="col-md-4">
                                    <button class="demo-button" onclick="demoAjax()">
                                        <i class="fas fa-code me-2"></i>Probar $.ajax()
                                    </button>
                                </div>
                            </div>
                            
                            <div class="response-area" id="demo-response">
                                <strong>Respuesta aparecerá aquí...</strong>
                                <br><small>Haz click en uno de los botones para ver AJAX en acción</small>
                            </div>
                        </div>
                    </section>

                    <!-- Footer -->
                    <div class="card bg-dark text-white text-center">
                        <div class="card-body">
                            <h5><i class="fas fa-graduation-cap me-2"></i>AJAX - Documentación Completa</h5>
                            <p class="mb-0">Sistema TOLDOS - Guía para desarrolladores</p>
                            <small class="text-muted">Actualizado: <?php echo date('d/m/Y H:i:s'); ?></small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <script>
        // Navegación suave entre secciones
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Remover clase active de todos los enlaces
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                
                // Agregar clase active al enlace clickeado
                this.classList.add('active');
                
                // Navegar suavemente a la sección
                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Demos interactivas
        function demoGet() {
            const responseArea = document.getElementById('demo-response');
            responseArea.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Ejecutando $.get()...';
            
            // Simular $.get()
            setTimeout(() => {
                responseArea.innerHTML = `
                    <strong>✅ $.get() Ejecutado:</strong><br>
                    <code>$.get("demo.php", function(data) { console.log(data); });</code><br>
                    <small class="text-light">Método: GET | Datos en URL | Respuesta: { "status": "success", "message": "Datos obtenidos" }</small>
                `;
            }, 1500);
        }
        
        function demoPost() {
            const responseArea = document.getElementById('demo-response');
            responseArea.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Ejecutando $.post()...';
            
            // Simular $.post()
            setTimeout(() => {
                responseArea.innerHTML = `
                    <strong>✅ $.post() Ejecutado:</strong><br>
                    <code>$.post("demo.php", {nombre: "Juan"}, function(result) { console.log(result); });</code><br>
                    <small class="text-light">Método: POST | Datos seguros | Respuesta: { "success": true, "id": 123 }</small>
                `;
            }, 1500);
        }
        
        function demoAjax() {
            const responseArea = document.getElementById('demo-response');
            responseArea.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Ejecutando $.ajax()...';
            
            // Simular $.ajax()
            setTimeout(() => {
                responseArea.innerHTML = `
                    <strong>✅ $.ajax() Ejecutado:</strong><br>
                    <code>$.ajax({ url: "demo.php", type: "POST", dataType: "json", success: function(data) {...} });</code><br>
                    <small class="text-light">Método: Configurable | Control total | Manejo de errores completo | Timeout: 5000ms</small>
                `;
            }, 2000);
        }

        // Resaltar código con Prism
        Prism.highlightAll();
    </script>
</body>
</html>